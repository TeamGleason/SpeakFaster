# SpeakFasterObserver

SpeakFasterObserver is a research tool focused on collecting data for the 
SpeakFaster effort. Specifically, the tool currently collects timestamped 
keystrokes and screenshots for the purposes of subsequent post-processing.

## Usage

The best way to use the application is to launch it on startup. One easy way
to do so is to create a shortcut to `SpeakFasterObserver.exe` and place it in the 
Start Menu's startup director at `%appdata%\Microsoft\Windows\Start Menu\Startup'.
Once running, the application will place an icon in the task tray. Clicking
on that icon will open the user interface.

The observer is also configured to work with the [blink(1) LED](https://www.amazon.com/gp/product/B07Q8944QK). 
When set to record the LED will flash red periodically to indicate that recording is enabled.

## Inspecting Captured Data

The captured data is stored at `%localappdata%\SpeakFasterObserver`. There are directories 
for each type of captured data, such as `Screenshots` and `Keypresses`. Screenshots 
can be viewed using any image viewer, such as the one built into Windows. Keypresses 
are stored in a packed format called `protobuf`. To make quick inspection easy, you can
use the `SpeakFasterObserver Decoder` python script in this repository. Usage is straightforward - 
simply pass the path to the protobuf file as an argument to the script.

```
python .\SpeakFasterObserver_Decoder.py $env:AppData\..\local\SpeakFasterObserver\Keypresses\Keypresses-20210429T095735268.protobuf
```

## Limitations

- The SpeakFasterObserver application listens to keyboard events from the operating system. As such, 
it is well suited for capturing keystrokes generated by mouse/keyboard emulation software 
such as Tobii Computer Control (or in theory Tobii Windows Control, Eye Control for Windows, 
etc). It will not work with applications that do not produce keyboard events when 
generating text. 
- Limitations of APIs in Windows prevent knowing the *source* of a keyboard event in general. 
At best we could monitor which application has focus and monitor the desired target 
(such as Balabolka). We can also know whether an application is running or not (such as 
Balabolka or Tobii Computer Control). However, we cannot be sure that Tobii Computer Control 
generated a given keystroke. As such, if you need to use an input method other than eye 
gaze we request you temporarily turn off recording of data.